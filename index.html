<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para Ti â¤ï¸</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500&family=DM+Sans:wght@300;400;500;600&family=Caveat:wght@400;500;600;700&display=swap');

        :root {
            --rose: #B5465A;
            --rose-soft: #D4848F;
            --rose-pale: #F2D4D7;
            --gold: #C9A96E;
            --gold-light: #E8D5B0;
            --cream: #FFF9F5;
            --deep: #1E1118;
            --wine: #5C1A2A;
            --blush: #FAEAED;
            --sage: #8FA88B;
            --terracotta: #C27B5C;
            --sky: #7BA7BC;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--cream);
            color: var(--deep);
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCREEN 1: THE QUESTION
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        #question-screen {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background: radial-gradient(ellipse at 30% 20%, rgba(181,70,90,0.06) 0%, transparent 50%),
            radial-gradient(ellipse at 70% 80%, rgba(201,169,110,0.08) 0%, transparent 50%),
            var(--cream);
            padding: 40px 24px;
            transition: opacity 0.8s ease, transform 0.8s ease;
            overflow: hidden; /* Prevent scroll from moving button */
        }

        #question-screen.fade-out {
            opacity: 0;
            transform: scale(0.95);
            pointer-events: none;
        }

        /* Floating hearts background */
        .bg-heart {
            position: absolute;
            font-size: 1.2rem;
            opacity: 0.08;
            animation: floatHeart linear infinite;
            pointer-events: none;
            user-select: none;
        }
        @keyframes floatHeart {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.08; }
            90% { opacity: 0.08; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }

        .envelope-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            animation: gentleBounce 3s ease-in-out infinite;
            filter: drop-shadow(0 4px 12px rgba(181,70,90,0.15));
        }
        @keyframes gentleBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-8px); }
        }

        .question-label {
            font-family: 'Caveat', cursive;
            font-size: 1.2rem;
            color: var(--rose-soft);
            letter-spacing: 1px;
            margin-bottom: 12px;
            opacity: 0;
            animation: fadeUp 0.8s ease 0.3s forwards;
        }

        .question-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(1.8rem, 5vw, 2.8rem);
            font-weight: 500;
            color: var(--deep);
            text-align: center;
            max-width: 600px;
            line-height: 1.35;
            margin-bottom: 50px;
            opacity: 0;
            animation: fadeUp 0.8s ease 0.6s forwards;
        }
        .question-text em {
            font-style: italic;
            color: var(--rose);
        }

        @keyframes fadeUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* BUTTONS AREA */
        .buttons-area {
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            min-height: 80px;
            opacity: 0;
            animation: fadeUp 0.8s ease 1s forwards;
        }

        .btn-yes {
            padding: 14px 40px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(135deg, var(--rose) 0%, var(--wine) 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(181,70,90,0.3);
            position: relative;
            z-index: 2;
            letter-spacing: 0.5px;
            white-space: nowrap;
        }
        .btn-yes:hover {
            transform: scale(1.08);
            box-shadow: 0 6px 30px rgba(181,70,90,0.45);
        }

        .btn-no-wrapper {
            position: fixed;
            z-index: 1000;
            opacity: 0;
            animation: fadeUp 0.8s ease 1s forwards;
            transition: left 0.22s cubic-bezier(0.34, 1.56, 0.64, 1),
                        top  0.22s cubic-bezier(0.34, 1.56, 0.64, 1),
                        transform 0.22s ease;
            will-change: left, top;
        }

        @keyframes btnPop {
            0%   { transform: scale(1) rotate(0deg); }
            35%  { transform: scale(1.2) rotate(8deg); }
            65%  { transform: scale(0.88) rotate(-5deg); }
            100% { transform: scale(1) rotate(0deg); }
        }
        .btn-no-wrapper.popping {
            animation: btnPop 0.35s ease forwards;
        }

        /* Larger touch target for mobile - invisible padding */
        .btn-no::before {
            content: '';
            position: absolute;
            top: -20px;
            left: -20px;
            right: -20px;
            bottom: -20px;
            z-index: -1;
        }

        .btn-no {
            padding: 16px 40px;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: #888;
            background: var(--cream);
            border: 2px solid #ddd;
            border-radius: 50px;
            cursor: pointer;
            user-select: none;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            -webkit-tap-highlight-color: transparent;
            position: relative;
        }

        /* Counter text */
        .no-counter {
            position: absolute;
            bottom: -35px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Caveat', cursive;
            font-size: 1rem;
            color: var(--rose-soft);
            opacity: 0;
            transition: opacity 0.3s;
            white-space: nowrap;
        }
        .no-counter.visible { opacity: 1; }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           CELEBRATION OVERLAY
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        #celebration {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(30,17,24,0.7);
            backdrop-filter: blur(8px);
        }
        #celebration.active {
            display: flex;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; } to { opacity: 1; }
        }

        .celeb-text {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(2rem, 7vw, 4rem);
            font-weight: 700;
            color: white;
            text-align: center;
            text-shadow: 0 2px 20px rgba(181,70,90,0.5);
            animation: celebPulse 0.6s ease;
            line-height: 1.3;
        }
        @keyframes celebPulse {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Floating hearts for celebration */
        .heart-particle {
            position: fixed;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 101;
            animation: heartRise 3s ease-out forwards;
        }
        @keyframes heartRise {
            0% { opacity: 1; transform: translateY(0) scale(1) rotate(0deg); }
            100% { opacity: 0; transform: translateY(-600px) scale(0.3) rotate(720deg); }
        }

        /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
           SCREEN 2: THE REVEAL
           â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */

        #reveal-screen {
            display: none;
            min-height: 100vh;
        }
        #reveal-screen.active { display: block; }

        /* Hero */
        .reveal-hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 60px 24px;
            background: linear-gradient(175deg, var(--deep) 0%, var(--wine) 40%, var(--rose) 100%);
            color: white;
            position: relative;
            overflow: hidden;
        }
        .reveal-hero::before {
            content: '';
            position: absolute;
            width: 600px; height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(201,169,110,0.12) 0%, transparent 70%);
            top: -100px; right: -100px;
        }
        .reveal-hero::after {
            content: '';
            position: absolute;
            width: 400px; height: 400px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,255,255,0.04) 0%, transparent 70%);
            bottom: -50px; left: -50px;
        }

        .reveal-overline {
            font-family: 'Caveat', cursive;
            font-size: 1.3rem;
            color: var(--gold-light);
            margin-bottom: 16px;
            opacity: 0;
            animation: fadeUp 0.8s ease 0.2s forwards;
        }

        .reveal-city {
            font-family: 'Cormorant Garamond', serif;
            font-size: clamp(3.5rem, 12vw, 7rem);
            font-weight: 700;
            letter-spacing: 4px;
            text-transform: uppercase;
            line-height: 1;
            margin-bottom: 16px;
            opacity: 0;
            animation: revealCity 1s ease 0.5s forwards;
            background: linear-gradient(180deg, white 30%, var(--gold-light) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        @keyframes revealCity {
            from { opacity: 0; transform: translateY(30px) scale(0.9); letter-spacing: 20px; }
            to { opacity: 1; transform: translateY(0) scale(1); letter-spacing: 4px; }
        }

        .reveal-tagline {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            font-weight: 300;
            font-style: italic;
            color: var(--rose-pale);
            margin-bottom: 32px;
            opacity: 0;
            animation: fadeUp 0.8s ease 1.2s forwards;
        }

        .reveal-dates-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(201,169,110,0.3);
            border-radius: 40px;
            padding: 14px 32px;
            font-size: 1rem;
            color: var(--gold-light);
            letter-spacing: 1px;
            opacity: 0;
            animation: fadeUp 0.8s ease 1.6s forwards;
        }

        .scroll-hint {
            position: absolute;
            bottom: 40px;
            left: 50%;
            transform: translateX(-50%);
            font-family: 'Caveat', cursive;
            font-size: 1rem;
            color: rgba(255,255,255,0.4);
            animation: fadeUp 0.8s ease 2.2s forwards, bobDown 2s ease-in-out 3s infinite;
            opacity: 0;
        }
        @keyframes bobDown {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* â”€â”€â”€ Itinerary Section â”€â”€â”€ */
        .itin-section {
            padding: 80px 24px;
            max-width: 720px;
            margin: 0 auto;
        }

        .section-label {
            font-family: 'Caveat', cursive;
            font-size: 1.1rem;
            color: var(--rose-soft);
            text-align: center;
            margin-bottom: 8px;
        }
        .section-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            font-weight: 600;
            text-align: center;
            color: var(--deep);
            margin-bottom: 48px;
        }

        /* Day card */
        .day-card {
            background: white;
            border-radius: 20px;
            padding: 36px 32px;
            margin-bottom: 28px;
            box-shadow: 0 4px 24px rgba(0,0,0,0.04);
            border: 1px solid rgba(0,0,0,0.04);
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }
        .day-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .day-card-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }
        .day-badge {
            width: 48px; height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.2rem;
            font-weight: 700;
            color: white;
            flex-shrink: 0;
        }
        .day-card:nth-child(1) .day-badge { background: var(--sky); }
        .day-card:nth-child(2) .day-badge { background: var(--terracotta); }
        .day-card:nth-child(3) .day-badge { background: var(--rose); }
        .day-card:nth-child(4) .day-badge { background: var(--sage); }

        .day-card-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--deep);
        }
        .day-card-date {
            font-size: 0.82rem;
            color: #999;
            margin-top: 2px;
        }

        .day-card-bday {
            display: inline-block;
            background: linear-gradient(135deg, var(--rose), var(--wine));
            color: white;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 3px 12px;
            border-radius: 20px;
            margin-left: 8px;
            vertical-align: middle;
        }

        .activity {
            display: flex;
            gap: 14px;
            padding: 12px 0;
            border-bottom: 1px solid #f5f0ec;
        }
        .activity:last-child { border-bottom: none; }

        .activity-icon {
            font-size: 1.4rem;
            flex-shrink: 0;
            width: 36px;
            text-align: center;
            padding-top: 2px;
        }
        .activity-content {
            flex: 1;
        }
        .activity-name {
            font-weight: 500;
            font-size: 0.95rem;
            color: var(--deep);
            margin-bottom: 3px;
        }
        .activity-desc {
            font-size: 0.85rem;
            color: #777;
            line-height: 1.5;
        }
        .activity-time {
            font-family: 'Caveat', cursive;
            font-size: 0.9rem;
            color: var(--gold);
        }

        /* Highlight activity */
        .activity.special {
            background: var(--blush);
            margin: 8px -16px;
            padding: 16px;
            border-radius: 14px;
            border-bottom: none;
        }

        /* â”€â”€â”€ Final Love Note â”€â”€â”€ */
        .love-note {
            text-align: center;
            padding: 80px 24px 100px;
            max-width: 550px;
            margin: 0 auto;
        }
        .love-note .heart-big {
            font-size: 3rem;
            margin-bottom: 20px;
            animation: gentleBounce 3s ease-in-out infinite;
        }
        .love-note p {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            font-weight: 400;
            font-style: italic;
            color: var(--wine);
            line-height: 1.6;
        }
        .love-note .signature {
            font-family: 'Caveat', cursive;
            font-size: 1.8rem;
            color: var(--rose);
            margin-top: 24px;
            display: block;
        }
    </style>
</head>
<body>

<!-- â•â•â• SCREEN 1: THE QUESTION â•â•â• -->
<div id="question-screen">
    <!-- Floating bg hearts -->
    <div class="envelope-icon">ğŸ’Œ</div>
    <div class="question-label">Tengo algo que preguntarte...</div>
    <div class="question-text">
        Â¿Te gustarÃ­a compartir tu prÃ³ximo <em>cumpleaÃ±os</em> conmigo en un lugar muy especial?
    </div>
    <div class="buttons-area" id="buttonsArea">
        <button class="btn-yes" id="btnYes" onclick="handleYes()">Â¡SÃ­, quiero! ğŸ’•</button>
    </div>
    <div class="btn-no-wrapper" id="btnNoWrapper">
        <button class="btn-no" id="btnNo">No, gracias</button>
        <div class="no-counter" id="noCounter"></div>
    </div>
</div>

<!-- â•â•â• CELEBRATION OVERLAY â•â•â• -->
<div id="celebration">
    <div class="celeb-text" id="celebText">Â¡SabÃ­a que dirÃ­as que sÃ­! ğŸ¥°</div>
</div>

<!-- â•â•â• SCREEN 2: THE REVEAL â•â•â• -->
<div id="reveal-screen">
    <div class="reveal-hero">
        <div class="reveal-overline">Tu regalo de cumpleaÃ±os es...</div>
        <div class="reveal-city">Sevilla</div>
        <div class="reveal-tagline">3 dÃ­as de amor, tapas y atardeceres</div>
        <div class="reveal-dates-badge">
            âœˆï¸ &nbsp; Domingo 1 â†’ MiÃ©rcoles 4 de Marzo 2026 &nbsp; ğŸŒ
        </div>
        <div class="scroll-hint">â†“ Desliza para descubrir el plan â†“</div>
    </div>

    <div class="itin-section">
        <div class="section-label">Nuestro plan juntos</div>
        <div class="section-title">4 dÃ­as de escapada perfecta</div>

        <!-- DAY 1 -->
        <div class="day-card">
            <div class="day-card-header">
                <div class="day-badge">D1</div>
                <div>
                    <div class="day-card-title">Llegada a Sevilla</div>
                    <div class="day-card-date">Domingo 1 de marzo</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸš„</div>
                <div class="activity-content">
                    <div class="activity-name">Tren Madrid â†’ Sevilla</div>
                    <div class="activity-desc">Salimos prontito (7:30 am) y en 2 horas y media estaremos en el sur</div>
                </div>
                <div class="activity-time">7:30</div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ¨</div>
                <div class="activity-content">
                    <div class="activity-name">Hotel boutique en el Barrio Santa Cruz</div>
                    <div class="activity-desc">Casita andaluza con patio, a dos minutos de la Catedral</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ·</div>
                <div class="activity-content">
                    <div class="activity-name">Tapeo de bienvenida</div>
                    <div class="activity-desc">Nuestro primer contacto con las tapas sevillanas</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">âœ¨</div>
                <div class="activity-content">
                    <div class="activity-name">Plaza de EspaÃ±a al atardecer</div>
                    <div class="activity-desc">La plaza mÃ¡s espectacular de EspaÃ±a baÃ±ada en luz dorada</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸŒ™</div>
                <div class="activity-content">
                    <div class="activity-name">Cena en calles con encanto</div>
                    <div class="activity-desc">Callejear y dejarnos llevar por los olores de la cocina andaluza</div>
                </div>
            </div>
        </div>

        <!-- DAY 2 -->
        <div class="day-card">
            <div class="day-card-header">
                <div class="day-badge">D2</div>
                <div>
                    <div class="day-card-title">Palacios, Catedrales y Triana</div>
                    <div class="day-card-date">Lunes 2 de marzo</div>
                </div>
            </div>
            <div class="activity special">
                <div class="activity-icon">ğŸ°</div>
                <div class="activity-content">
                    <div class="activity-name">Real AlcÃ¡zar de Sevilla</div>
                    <div class="activity-desc">Palacios mudÃ©jares de cuento, jardines infinitos... te va a encantar</div>
                </div>
                <div class="activity-time">10:00</div>
            </div>
            <div class="activity">
                <div class="activity-icon">â›ª</div>
                <div class="activity-content">
                    <div class="activity-name">Catedral + subida a la Giralda</div>
                    <div class="activity-desc">Toda Sevilla a tus pies desde lo mÃ¡s alto ğŸ˜‰</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸŒ‰</div>
                <div class="activity-content">
                    <div class="activity-name">Cruzar a Triana por el puente</div>
                    <div class="activity-desc">El barrio mÃ¡s autÃ©ntico, cuna del flamenco, cerÃ¡mica y buena vida</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸº</div>
                <div class="activity-content">
                    <div class="activity-name">Cena en Triana con vistas al rÃ­o</div>
                    <div class="activity-desc">Guadalquivir al atardecer con la Torre del Oro iluminada</div>
                </div>
            </div>
        </div>

        <!-- DAY 3 â€” BIRTHDAY -->
        <div class="day-card" style="border: 2px solid var(--rose-pale); box-shadow: 0 4px 30px rgba(181,70,90,0.08);">
            <div class="day-card-header">
                <div class="day-badge" style="background: var(--rose); box-shadow: 0 0 0 5px var(--rose-pale);">D3</div>
                <div>
                    <div class="day-card-title">Â¡Tu DÃ­a! <span class="day-card-bday">ğŸ‚ CumpleaÃ±os</span></div>
                    <div class="day-card-date">Martes 3 de marzo</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">â˜•</div>
                <div class="activity-content">
                    <div class="activity-name">Desayuno especial de cumpleaÃ±era</div>
                    <div class="activity-desc">Empezar el dÃ­a mimÃ¡ndote como te mereces</div>
                </div>
            </div>
            <div class="activity special">
                <div class="activity-icon">ğŸ§–â€â™€ï¸</div>
                <div class="activity-content">
                    <div class="activity-name">BaÃ±os Ã¡rabes en pareja</div>
                    <div class="activity-desc">Piscinas termales, velas, aromas... en un palacio del siglo XVI. Solo nosotros dos</div>
                </div>
                <div class="activity-time">11:00</div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ›ï¸</div>
                <div class="activity-content">
                    <div class="activity-name">Tarde libre: pasear, helado, shopping</div>
                    <div class="activity-desc">Calles bonitas, abanicos, cerÃ¡mica, y vistas 360Â° desde Las Setas</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ¸</div>
                <div class="activity-content">
                    <div class="activity-name">Copa con vistas a la Giralda</div>
                    <div class="activity-desc">Brindamos por ti en una terraza mÃ¡gica al atardecer</div>
                </div>
            </div>
            <div class="activity special">
                <div class="activity-icon">ğŸ•¯ï¸</div>
                <div class="activity-content">
                    <div class="activity-name">Cena romÃ¡ntica de cumpleaÃ±os</div>
                    <div class="activity-desc">Un restaurante precioso, solo para nosotros. El broche perfecto</div>
                </div>
                <div class="activity-time">21:00</div>
            </div>
        </div>

        <!-- DAY 4 -->
        <div class="day-card">
            <div class="day-card-header">
                <div class="day-badge">D4</div>
                <div>
                    <div class="day-card-title">Ãšltimas horas y vuelta</div>
                    <div class="day-card-date">MiÃ©rcoles 4 de marzo</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ«</div>
                <div class="activity-content">
                    <div class="activity-name">Churros con chocolate</div>
                    <div class="activity-desc">En un bar centenario, el desayuno mÃ¡s andaluz posible</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ„</div>
                <div class="activity-content">
                    <div class="activity-name">Las Setas de Sevilla</div>
                    <div class="activity-desc">Estructura de madera gigante, mirador panorÃ¡mico, foto obligatoria</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸ½ï¸</div>
                <div class="activity-content">
                    <div class="activity-name">Ãšltimo almuerzo sevillano</div>
                    <div class="activity-desc">Una Ãºltima tapa antes de despedirnos (hasta la prÃ³xima)</div>
                </div>
            </div>
            <div class="activity">
                <div class="activity-icon">ğŸš„</div>
                <div class="activity-content">
                    <div class="activity-name">Tren de vuelta a Madrid</div>
                    <div class="activity-desc">Volvemos a casa con el corazÃ³n lleno y miles de recuerdos ğŸ“¸â¤ï¸â€ğŸ”¥</div>
                </div>
                <div class="activity-time">17:00</div>
            </div>
        </div>
    </div>

    <!-- LOVE NOTE -->
    <div class="love-note">
        <div class="heart-big">â¤ï¸</div>
        <p>Porque cada aÃ±o a tu lado es mejor que el anterior, y quiero que este cumpleaÃ±os sea uno que recuerdes siempre.</p>
        <span class="signature">Te quiero â¤ï¸</span>
    </div>
</div>

<script>
    // â•â•â• BACKGROUND HEARTS â•â•â•
    (function createBgHearts() {
        const screen = document.getElementById('question-screen');
        const hearts = ['â™¥', 'â¤', 'â™¡', 'ğŸ’•'];
        for (let i = 0; i < 15; i++) {
            const h = document.createElement('div');
            h.className = 'bg-heart';
            h.textContent = hearts[Math.floor(Math.random() * hearts.length)];
            h.style.left = Math.random() * 100 + '%';
            h.style.animationDuration = (8 + Math.random() * 12) + 's';
            h.style.animationDelay = (Math.random() * 10) + 's';
            h.style.fontSize = (0.8 + Math.random() * 1.2) + 'rem';
            screen.appendChild(h);
        }
    })();

    // â•â•â• THE IMPOSSIBLE "NO" BUTTON â•â•â•
    const btnNo = document.getElementById('btnNo');
    const btnNoWrapper = document.getElementById('btnNoWrapper');
    const btnYes = document.getElementById('btnYes');
    const noCounter = document.getElementById('noCounter');

    let noAttempts = 0;
    let currentX = 0, currentY = 0;
    let counterTimer = null;

    const noMessages = [
        "Jajaja, buen intento ğŸ˜",
        "Â¿Segura? IntÃ©ntalo otra vez...",
        "Ese botÃ³n no funciona ğŸ˜œ",
        "Nope, no va a pasar ğŸ˜‚",
        "Creo que el otro botÃ³n es mejor opciÃ³n...",
        "Â¿Por quÃ© huyes del amor? ğŸ’˜",
        "El botÃ³n dice que no quiere ser clickeado",
        "Â¡Casi! ...no, mentira ğŸ˜",
        "RÃ­ndete, solo hay una opciÃ³n ğŸ’•",
        "Â¿TodavÃ­a intentÃ¡ndolo? ğŸ¤­",
    ];

    const noButtonTexts = ["No ğŸƒ", "Â¡No! ğŸ’¨", "Noo ğŸ˜…", "ğŸ™ˆ", "...", "Jaja no", "Nunca ğŸ˜‚"];

    // Place the No button next to the Yes button using fixed viewport coords
    function positionNoButton() {
        const yesRect = btnYes.getBoundingClientRect();
        const btnW = btnNoWrapper.offsetWidth || 130;
        const btnH = btnNoWrapper.offsetHeight || 52;
        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const pad = 16;

        let x = yesRect.right + 20;
        let y = yesRect.top + yesRect.height / 2 - btnH / 2;

        // On narrow screens: place below the Yes button instead of beside it
        if (x + btnW > vw - pad) {
            x = yesRect.left + yesRect.width / 2 - btnW / 2;
            y = yesRect.bottom + 18;
        }

        // Always clamp to viewport
        x = Math.max(pad, Math.min(vw - btnW - pad, x));
        y = Math.max(pad, Math.min(vh - btnH - pad, y));

        currentX = x;
        currentY = y;
        btnNoWrapper.style.left = x + 'px';
        btnNoWrapper.style.top  = y + 'px';
        btnNoWrapper.style.transform = '';
    }

    positionNoButton();
    // Recapture after animation settles, but only if user hasn't tapped yet
    setTimeout(() => { if (noAttempts === 0) positionNoButton(); }, 1300);
    window.addEventListener('resize', () => { if (noAttempts === 0) positionNoButton(); });

    // Jump to a random position fully inside the viewport, away from Yes button
    function escapeButton() {
        noAttempts++;

        const btnW = btnNoWrapper.offsetWidth || 130;
        const btnH = btnNoWrapper.offsetHeight || 52;
        const vw = window.innerWidth;
        const vh = window.innerHeight;
        const pad = 20;
        const yesRect = btnYes.getBoundingClientRect();
        const yesMargin = 40;
        // Minimum distance the button must visibly jump
        const minMove = Math.min(80, vw * 0.18);

        let newX, newY, attempts = 0;
        do {
            newX = pad + Math.random() * (vw - btnW - pad * 2);
            newY = pad + Math.random() * (vh - btnH - pad * 2);

            const overlapsYes =
                newX < yesRect.right  + yesMargin &&
                newX + btnW > yesRect.left  - yesMargin &&
                newY < yesRect.bottom + yesMargin &&
                newY + btnH > yesRect.top   - yesMargin;

            const tooClose =
                Math.abs(newX - currentX) < minMove &&
                Math.abs(newY - currentY) < minMove;

            if (!overlapsYes && !tooClose) break;
            attempts++;
        } while (attempts < 50);

        currentX = newX;
        currentY = newY;
        btnNoWrapper.style.left = newX + 'px';
        btnNoWrapper.style.top  = newY + 'px';
        btnNoWrapper.style.opacity = '1';

        // Pop animation (restart by removing/adding class)
        btnNoWrapper.classList.remove('popping');
        void btnNoWrapper.offsetWidth; // force reflow
        btnNoWrapper.classList.add('popping');

        // Change text after a few attempts
        if (noAttempts >= 3) {
            btnNo.textContent = noButtonTexts[(noAttempts - 3) % noButtonTexts.length];
        }

        // Show funny message (text always readable, no counter-rotation needed)
        if (counterTimer) clearTimeout(counterTimer);
        noCounter.textContent = noMessages[(noAttempts - 1) % noMessages.length];
        noCounter.style.transform = 'translateX(-50%)';
        noCounter.classList.add('visible');
        counterTimer = setTimeout(() => noCounter.classList.remove('visible'), 3500);

        // Make the Yes button slightly bigger each time (max 1.3x)
        const yesScale = Math.min(1 + noAttempts * 0.04, 1.3);
        btnYes.style.transform = `scale(${yesScale})`;
    }

    // Touch devices: escape on touchstart (preventDefault stops the click from also firing)
    // Desktop: escape on mouseenter (button runs away before they can click)
    const isTouchDevice = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);

    if (isTouchDevice) {
        btnNo.addEventListener('touchstart', function(e) {
            e.preventDefault();
            escapeButton();
        }, { passive: false });
    } else {
        btnNo.addEventListener('mouseenter', escapeButton);
        // Fallback click in case they somehow catch it
        btnNo.addEventListener('click', function(e) {
            e.preventDefault();
            escapeButton();
        });
    }

    // â•â•â• YES HANDLER â•â•â•
    function handleYes() {
        // Spawn heart particles
        spawnHearts(40);

        // Show celebration
        const celebration = document.getElementById('celebration');
        celebration.classList.add('active');

        // Sequence
        setTimeout(() => {
            document.getElementById('celebText').innerHTML = 'Prepara la maleta... ğŸ§³âœ¨';
        }, 2000);

        setTimeout(() => {
            celebration.classList.remove('active');
            document.getElementById('question-screen').classList.add('fade-out');
        }, 3800);

        setTimeout(() => {
            document.getElementById('question-screen').style.display = 'none';
            document.getElementById('reveal-screen').classList.add('active');
            // Trigger scroll animations
            initScrollObserver();
        }, 4600);
    }

    function spawnHearts(count) {
        const emojis = ['â¤ï¸', 'ğŸ’•', 'ğŸ’–', 'ğŸ’—', 'âœ¨', 'ğŸ¥°', 'ğŸ’˜', 'ğŸŒ¹'];
        for (let i = 0; i < count; i++) {
            setTimeout(() => {
                const h = document.createElement('div');
                h.className = 'heart-particle';
                h.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                h.style.left = Math.random() * 100 + 'vw';
                h.style.top = (50 + Math.random() * 50) + 'vh';
                h.style.fontSize = (1 + Math.random() * 2) + 'rem';
                h.style.animationDuration = (2 + Math.random() * 2) + 's';
                document.body.appendChild(h);
                setTimeout(() => h.remove(), 4000);
            }, i * 60);
        }
    }

    // â•â•â• SCROLL REVEAL FOR DAY CARDS â•â•â•
    function initScrollObserver() {
        const cards = document.querySelectorAll('.day-card');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.15 });
        cards.forEach(card => observer.observe(card));
    }
</script>

</body>
</html>